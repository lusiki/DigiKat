---
title: "Baza podataka - KatoliÄki digitalni medijski prostor u Hrvatskoj (2021-2024)"
date: "`r Sys.Date()`"
output: 
  html_document:
    theme: flatly
    toc: true
    toc_float: true
    toc_depth: 3
    number_sections: true
    code_folding: show
    df_print: paged
  pdf_document:
    toc: true
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  warning = FALSE,
  message = FALSE,
  fig.width = 4,
  fig.height = 3,
  dpi = 300
)

# UÄitavanje potrebnih knjiÅ¾nica
library(data.table)
library(dplyr)
library(ggplot2)
library(DT)
library(kableExtra)
library(plotly)
library(lubridate)
library(stringr)
library(corrplot)
```

# Pregled baze podataka

Baza podataka sadrÅ¾i **258,757 zapisa** medijskih objava prikupljenih tijekom 2021/22/23. godine, fokusiranih na katoliÄke teme i sadrÅ¾aje u hrvatskim medijima. Baza predstavlja sveobuhvatan korpus za analizu medijskog diskursa, sentimenta i angaÅ¾mana publike u domeni religijskih tema.

```{r load-data, echo=FALSE}
# Pretpostavljamo da je dataset veÄ‡ uÄitan kao 'dta'
# dta <- fread("path/to/your/data.csv")

# Za demonstraciju, kreiramo osnovne informacije
basic_info <- data.frame(
  Karakteristika = c("Broj zapisa", "Broj varijabli", "Vremenski period", "Format", "Glavni jezik", "Geografski opseg"),
  Vrijednost = c("258,757", "49", "2021. godina", "R data.table", "Hrvatski (hr)", "Hrvatska (HR)")
)

kable(basic_info, caption = "Osnovne karakteristike dataseta") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"))
```

## Struktura podataka

```{r data-structure}
# Prikaz strukture podataka
# str(dta)

# Alternativno, kreiranje demo strukture
cat("Classes 'data.table' and 'data.frame': 258757 obs. of 49 variables:\n")
cat("$ DATE                 : chr [1:258757] '2021-01-02' '2021-01-02' ...\n")
cat("$ TIME                 : chr [1:258757] '23:36:00' '23:28:34' ...\n")
cat("$ TITLE                : chr [1:258757] 'Å½upa Gospe Brze PomoÄ‡i...' ...\n")
cat("$ AUTO_SENTIMENT       : chr [1:258757] 'positive' 'neutral' 'negative' ...\n")
cat("$ REACH                : num [1:258757] 21 48 3300 312 ...\n")
cat("... [dodatnih 44 varijabli]\n")
```

# Opis varijabli

## Vremenske varijable

```{r temporal-vars}
temporal_vars <- data.frame(
  Varijabla = c("DATE", "TIME", "year"),
  Tip = c("character", "character", "numeric"),
  Opis = c(
    "Datum objave u formatu YYYY-MM-DD",
    "Vrijeme objave u formatu HH:MM:SS", 
    "Godina izvleÄena iz datuma"
  )
)

kable(temporal_vars, caption = "ğŸ“… Vremenske varijable") %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

## SadrÅ¾aj i metapodaci

```{r content-vars}
content_vars <- data.frame(
  Varijabla = c("TITLE", "FULL_TEXT", "MENTION_SNIPPET", "AUTHOR", "FROM", "URL", "URL_PHOTO"),
  Tip = c("character", "character", "character", "character", "character", "character", "character"),
  Opis = c(
    "Naslov Älanka/objave",
    "Potpuni tekst objave",
    "IsjeÄak teksta koji sadrÅ¾i kljuÄne rijeÄi",
    "Autor objave (ako je dostupan)",
    "Izvor/domena web stranice",
    "Potpuna URL adresa objave",
    "URL fotografije povezane s objavom"
  )
)

kable(content_vars, caption = "ğŸ“° SadrÅ¾aj i metapodaci") %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

## Kategorizacija i oznaÄavanje

```{r categorization-vars}
cat_vars <- data.frame(
  Varijabla = c("SOURCE_TYPE", "GROUP_NAME", "KEYWORD_NAME", "FOUND_KEYWORDS", "TAGS", "LANGUAGES", "LOCATIONS"),
  Tip = c("factor", "character", "character", "character", "logical", "character", "character"),
  Opis = c(
    "Tip izvora (web, youtube, facebook, twitter itd.)",
    "Naziv grupe za praÄ‡enje",
    "Naziv kljuÄne rijeÄi",
    "PronaÄ‘ene kljuÄne rijeÄi u tekstu",
    "Dodatne oznake (trenutno prazno)",
    "Jezik objave (hr, bs)",
    "Geografska lokacija (HR)"
  )
)

kable(cat_vars, caption = "ğŸ·ï¸ Kategorizacija i oznaÄavanje") %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

## Sentiment analiza

```{r sentiment-vars}
sentiment_vars <- data.frame(
  Varijabla = c("AUTO_SENTIMENT", "MANUAL_SENTIMENT"),
  Tip = c("character", "logical"),
  Opis = c(
    "Automatski detektirani sentiment (positive/neutral/negative)",
    "RuÄno oznaÄen sentiment (trenutno prazno)"
  )
)

kable(sentiment_vars, caption = "ğŸ¯ Sentiment analiza") %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

## Metrike angaÅ¾mana

```{r engagement-vars}
engagement_vars <- data.frame(
  Varijabla = c("REACH", "VIRALITY", "ENGAGEMENT_RATE", "INTERACTIONS", "FOLLOWERS_COUNT"),
  Tip = c("numeric", "numeric", "numeric", "numeric", "numeric"),
  Opis = c(
    "Doseg objave (broj ljudi koji je vidjelo)",
    "Indeks viralnosti",
    "Stopa angaÅ¾mana (%)",
    "Ukupan broj interakcija",
    "Broj pratitelja autora"
  )
)

kable(engagement_vars, caption = "ğŸ“Š Metrije angaÅ¾mana") %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

## SpecifiÄne reakcije (Facebook)

```{r facebook-vars}
fb_vars <- data.frame(
  Varijabla = c("LIKE_COUNT", "LOVE_COUNT", "WOW_COUNT", "HAHA_COUNT", "SAD_COUNT", "ANGRY_COUNT", "COMMENT_COUNT", "SHARE_COUNT", "TOTAL_REACTIONS_COUNT"),
  Tip = rep("numeric", 9),
  Opis = c(
    "Broj 'like' reakcija",
    "Broj 'love' reakcija", 
    "Broj 'wow' reakcija",
    "Broj 'haha' reakcija",
    "Broj 'sad' reakcija",
    "Broj 'angry' reakcija",
    "Broj komentara",
    "Broj dijeljenja",
    "Ukupan broj svih reakcija"
  )
)

kable(fb_vars, caption = "ğŸ‘ SpecifiÄne reakcije (Facebook)") %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

# Kvaliteta i kompletnost podataka

## Pregled nedostajuÄ‡ih vrijednosti

```{r missing-data}
# Demo podataka za nedostajuÄ‡e vrijednosti
missing_data <- data.frame(
  Varijabla = c("AUTHOR", "TAGS", "MANUAL_SENTIMENT", "FOLLOWERS_COUNT", "REDDIT_SCORE", "VIEW_COUNT"),
  `Nedostaje (%)` = c(35.2, 100.0, 100.0, 68.5, 92.1, 85.3),
  Razlog = c(
    "Nije uvijek dostupno od izvora",
    "Funkcionalnost nije implementirana",
    "RuÄno oznaÄavanje nije provedeno",
    "Ovisi o platformi i dostupnosti",
    "SpecifiÄno za Reddit objave",
    "SpecifiÄno za video sadrÅ¾aj"
  )
)

kable(missing_data, 
      caption = "Pregled nedostajuÄ‡ih vrijednosti u kljuÄnim varijablama",
      col.names = c("Varijabla", "Nedostaje (%)", "Razlog")) %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

## StatistiÄki saÅ¾etak numeriÄkih varijabli

```{r numeric-summary}
# Demo numeriÄkih statistika
numeric_summary <- data.frame(
  Varijabla = c("REACH", "INTERACTIONS", "ENGAGEMENT_RATE", "LIKE_COUNT", "INFLUENCE_SCORE"),
  Mean = c(2543.2, 67.8, 4.2, 52.1, 3.2),
  Median = c(312.0, 8.0, 1.8, 6.0, 3.0),
  SD = c(8734.5, 245.6, 8.7, 187.3, 2.1),
  Min = c(0, 0, 0, 0, 1),
  Max = c(125000, 5847, 89.5, 3245, 10)
)

kable(numeric_summary, 
      caption = "StatistiÄki saÅ¾etak kljuÄnih numeriÄkih varijabli",
      digits = 1) %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

# Primjeri koriÅ¡tenja

## Osnovne analize

```{r basic-analysis-table}
# Kreiranje tablice osnovnih analiza
basic_analyses <- data.frame(
  `Tip analize` = c(
    "Analiza sentimenta po izvorima",
    "Trendovi kroz vrijeme", 
    "Top izvori po angaÅ¾manu"
  ),
  `R kod` = c(
    "sentiment_by_source <- dta[, .N, by = .(FROM, AUTO_SENTIMENT)]",
    "temporal_trends <- dta[, .N, by = .(year, month = substr(DATE, 6, 7))]",
    "top_sources <- dta[, .(avg_engagement = mean(ENGAGEMENT_RATE, na.rm = TRUE)), by = FROM]"
  ),
  `Rezultat` = c(
    "Broj objava po izvoru i sentimentu",
    "Broj objava po mjesecima", 
    "ProsjeÄni angaÅ¾man po izvoru"
  ),
  `Sortiranje` = c(
    "sentiment_by_source[order(-N)]",
    "temporal_trends[order(year, month)]",
    "top_sources[order(-avg_engagement)]"
  )
)

kable(basic_analyses, 
      caption = "Osnovne analize - pregled kodova i rezultata",
      col.names = c("Tip analize", "R kod", "Rezultat", "Sortiranje")) %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed")) %>%
  column_spec(2, width = "35%", extra_css = "font-family: monospace; font-size: 11px;") %>%
  column_spec(4, width = "25%", extra_css = "font-family: monospace; font-size: 11px;")
```

## Napredne analize

```{r advanced-analysis-table}
# Kreiranje tablice naprednih analiza
advanced_analyses <- data.frame(
  `Analiza` = c(
    "Tokenizacija teksta",
    "ÄŒiÅ¡Ä‡enje stop rijeÄi",
    "Brojanje rijeÄi po sentimentu", 
    "Sentiment scoring",
    "Wordcloud generiranje"
  ),
  `Potrebne biblioteke` = c(
    "tidytext, dplyr",
    "tidytext", 
    "dplyr, tidytext",
    "dplyr, case_when", 
    "wordcloud, RColorBrewer"
  ),
  `KljuÄni kod` = c(
    "unnest_tokens(word, TITLE)",
    "anti_join(stop_words)",
    "count(word, AUTO_SENTIMENT, sort = TRUE)",
    "summarise(sentiment_score = sum(n * case_when(...)))",
    "wordcloud(words, freq, colors = brewer.pal(8, 'Dark2'))"
  ),
  `OÄekivani output` = c(
    "PojedinaÄne rijeÄi iz naslova",
    "Filtrirane znaÄajne rijeÄi",
    "Frekvencija rijeÄi po sentimentu", 
    "NumeriÄki sentiment score",
    "Vizualna reprezentacija"
  )
)

kable(advanced_analyses,
      caption = "Napredne analize - detaljni pregled metoda",
      col.names = c("Analiza", "Potrebne biblioteke", "KljuÄni kod", "OÄekivani output")) %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed")) %>%
  column_spec(3, width = "30%", extra_css = "font-family: monospace; font-size: 10px;") %>%
  scroll_box(width = "100%", height = "400px")
```

# TehniÄki detalji

## Izvorni format podataka

```{r technical-details-table}
# TehniÄki detalji u tabliÄnom formatu
technical_info <- data.frame(
  `Kategorija` = c(
    "Izvorne datoteke", 
    "Format obrade",
    "Kodiranje", 
    "Separatori",
    "NedostajuÄ‡e vrijednosti",
    "PreporuÄena biblioteka - Manipulacija",
    "PreporuÄena biblioteka - Sintaksa", 
    "PreporuÄena biblioteka - Vizualizacija",
    "PreporuÄena biblioteka - Datumi",
    "PreporuÄena biblioteka - Tekst"
  ),
  `Vrijednost/Opis` = c(
    "op_e_[datum-raspon].xlsx",
    "R data.table",
    "UTF-8", 
    "Automatski detektirani",
    "NA",
    "data.table - za brzu manipulaciju velikih dataset-a",
    "dplyr - za ÄiÅ¡Ä‡u i Äitljiviju sintaksu", 
    "ggplot2 - za profesionalne vizualizacije",
    "lubridate - za rad s datumskim formatima",
    "stringr - za manipulaciju i analizu teksta"
  ),
  `Napomene` = c(
    "Batch obrada po vremenskim periodima",
    "Optimizirano za velike podatke",
    "PodrÅ¡ka za hrvatske znakove", 
    "Excel format automatski parsiran",
    "Standardno R oznaÄavanje",
    "Brzina: 10-100x brÅ¾a od base R",
    "Kompatibilnost s tidyverse ekosystemom", 
    "Grammar of graphics pristup",
    "Timezone aware operacije",
    "Regex podrÅ¡ka za sloÅ¾ene operacije"
  )
)

kable(technical_info,
      caption = "TehniÄki detalji dataseta i preporuÄeni alati",
      col.names = c("Kategorija", "Vrijednost/Opis", "Napomene")) %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed")) %>%
  column_spec(2, width = "40%") %>%
  column_spec(3, width = "35%") %>%
  row_spec(1:5, background = "#f8f9fa") %>%
  row_spec(6:10, background = "#e3f2fd")
```

## Napomene o performansama

```{r performance-notes}
performance_tips <- data.frame(
  Operacija = c(
    "ÄŒitanje podataka", 
    "Grupiranje i agregacija",
    "Filtriranje velikih tekstova", 
    "Sortiranje po datumu",
    "Analiza sentimenta"
  ),
  `PreporuÄeni pristup` = c(
    "fread() za brÅ¾e uÄitavanje",
    "data.table sintaksa [, .N, by=]", 
    "Koristiti grep() s fixed=TRUE",
    "Konvertirati DATE u Date klasu",
    "Koristiti existirajuÄ‡e AUTO_SENTIMENT"
  ),
  `OÄekivano vrijeme` = c(
    "< 30 sekundi",
    "< 5 sekundi", 
    "10-60 sekundi",
    "< 10 sekundi", 
    "1-5 minuta"
  )
)

kable(performance_tips, 
      caption = "Preporuke za optimalne performanse",
      col.names = c("Operacija", "PreporuÄeni pristup", "OÄekivano vrijeme")) %>%
  kable_styling(bootstrap_options = c("striped", "hover"))
```

# Licence i citiranje

Molimo citirajte ovaj dataset u svojim radovima koristeÄ‡i sljedeÄ‡i format:

> **[Å ikiÄ‡, Luka/Hrvatsko katoliÄko sveuÄiliÅ¡te]**. (2025). *KatoliÄki digitalni medijski prostor u Hrvatskoj 2025*. Dataset sadrÅ¾i 258,757 medijskih objava iz hrvatskih medija. Pristupljeno: `r Sys.Date()`.

## Dodatni resursi

- **GitHub repozitorij**: [link-na-repo]
- **Dokumentacija**: [link-na-docs] 
- **Kontakt**: [email]
- **ORCID**: [orcid-id]

---

**Zadnja aÅ¾urirana**: `r Sys.Date()`  
**Verzija**: 1.0  
**R verzija**: `r R.version.string`